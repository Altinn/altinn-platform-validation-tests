namespace: authentication
test_definitions:
  - test_file: K6/api/tests/auth/authorizedParties/getAuthorizedPartiesForOrg.js
    contexts:
      - environment: yt01
        node_type: spot
        test_type:
          type: breakpoint
          enabled: true
        test_run:
          name: get-authorized-parties-org
          id: yt01-get-authorized-parties-org-break
          env:
            - name: K6_SUMMARY_MODE
              value: full
            - name: BREAKPOINT_STAGE_DURATION
              value: "10m"
            - name: BREAKPOINT_STAGE_TARGET
              value: 100
            - name: INCLUDE_ALTINN2
              value: true
            - name: RANDOMIZE
              value: true
          secrets:
            - token-generator-creds

  - test_file: K6/api/tests/auth/authorizedParties/getAuthorizedPartiesForSystemUser.js
    contexts:
      - environment: yt01
        node_type: spot
        test_type:
          type: breakpoint
          enabled: true
        test_run:
          name: get-authorized-parties-sysuser
          id: yt01-get-authorized-parties-sysuser-break
          env:
            - name: K6_SUMMARY_MODE
              value: full
            - name: BREAKPOINT_STAGE_DURATION
              value: "10m"
            - name: BREAKPOINT_STAGE_TARGET
              value: 100
            - name: INCLUDE_ALTINN2
              value: true
            - name: RANDOMIZE
              value: true
          secrets:
            - token-generator-creds

  - test_file: K6/api/tests/auth/authorizedParties/getAuthorizedPartiesForUser.js
    contexts:
      - environment: yt01
        node_type: spot
        test_type:
          type: breakpoint
          enabled: true
        test_run:
          name: get-authorized-parties-user
          id: yt01-get-authorized-parties-user-break
          env:
            - name: K6_SUMMARY_MODE
              value: full
            - name: BREAKPOINT_STAGE_DURATION
              value: "10m"
            - name: BREAKPOINT_STAGE_TARGET
              value: 100
            - name: INCLUDE_ALTINN2
              value: true
            - name: RANDOMIZE
              value: true
          secrets:
            - token-generator-creds
