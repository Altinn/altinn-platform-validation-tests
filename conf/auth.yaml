namespace: authentication
test_definitions:
  - test_file: K6/api/tests/auth/systemRegister/systemRegisterCrud.js
    env_file: K6/api/tests/auth/common.env
    contexts:
      - environment: at22
        node_type: default
        test_run:
          name: system-register-crud
          secrets:
            - br-test.2025-07-03
  - test_file: K6/api/tests/auth/systemRegister/systemRegisterRights.js
    env_file: K6/api/tests/auth/common.env
    contexts:
      - environment: at22
        node_type: default
        test_run:
          name: system-register-rights
          secrets:
            - br-test.2025-07-03
  - test_file: K6/api/tests/auth/systemRegister/systemRegisterAccessPackages.js
    env_file: K6/api/tests/auth/common.env
    contexts:
      - environment: at22
        node_type: default
        test_run:
          name: system-register-accesspackages
          secrets:
            - br-test.2025-07-03
  - test_file: K6/api/tests/auth/systemUserRequest/createAndConfirmSystemUserRequest.js
    env_file: K6/api/tests/auth/common.env
    contexts:
      - environment: at22
        node_type: default
        test_run:
          name: create-confirm-system-user-req
          secrets:
            - token-generator-creds
  - test_file: K6/api/tests/auth/register/testRemovalOfRevisorRoleForClient.js
    contexts:
      - environment: at22
        node_type: default
        test_run:
          name: add-rm-revisorrole-for-client
          id: at22-add-rm-revisorrole-for-client
          secrets:
            - soap-er-creds
            - token-generator-creds
            - authorization-subscription-key-at22
            - register-subscription-key-at22
  - test_file: K6/browser/systemUser/clientDelegation.js
    contexts:
      - environment: tt02
        node_type: default
        test_type:
          type: browser
          enabled: false
          config_file: ""
        test_run:
          name: client-delegation
          env:
            - name: K6_SUMMARY_MODE
              value: full
            - name: K6_TESTING_COLORIZE
              value: "false"
            - name: K6_TESTING_DISPLAY
              value: inline
          secrets:
            - token-generator-creds
      - environment: at24
        node_type: default
        test_type:
          type: browser
          enabled: false
          config_file: ""
        test_run:
          name: client-delegation
          env:
            - name: K6_SUMMARY_MODE
              value: full
            - name: K6_TESTING_COLORIZE
              value: "false"
            - name: K6_TESTING_DISPLAY
              value: inline
          secrets:
            - token-generator-creds
  - test_file: K6/api/tests/auth/consent/postConsent.js
    contexts:
      - environment: yt01
        node_type: default
        test_run:
          name: post-consent
          id: yt01-post-consent
          secrets:
            - token-generator-creds

  - test_file: K6/api/tests/auth/authorizedParties/getAuthorizedPartiesForOrg.js
    contexts:
      - environment: yt01
        node_type: default
        test_run:
          name: get-authorized-parties-org
          id: yt01-get-authorized-parties-org
          secrets:
            - token-generator-creds
  - test_file: K6/api/tests/auth/authorizedParties/getAuthorizedPartiesForSystemUser.js
    contexts:
      - environment: yt01
        node_type: default
        test_run:
          name: get-authorized-parties-sysuser
          id: yt01-get-authorized-parties-sysuser
          secrets:
            - token-generator-creds
  - test_file: K6/api/tests/auth/authorizedParties/getAuthorizedPartiesForUser.js
    contexts:
      - environment: yt01
        node_type: default
        test_run:
          name: get-authorized-parties-user
          id: yt01-get-authorized-parties-user
          secrets:
            - token-generator-creds
  - test_file: K6/api/tests/auth/pdpAuthorize/pdpAuthorizeEnduser.js
    contexts:
      - environment: yt01
        node_type: default
        test_run:
          name: pdp-authorize-enduser
          id: yt01-pdp-authorize-enduser
          secrets:
            - token-generator-creds
            - authorization-subscription-key-yt01
  - test_file: K6/api/tests/auth/connections/getConnectionsTo.js
    contexts:
      - environment: yt01
        node_type: default
        test_run:
          name: get-connections-to
          id: yt01-get-connections-to
          env:
            - name: RANDOMIZE
              value: true
          secrets:
            - token-generator-creds
  - test_file: K6/api/tests/auth/connections/getConnectionsFrom.js
    contexts:
      - environment: yt01
        node_type: default
        test_run:
          name: get-connections-from
          id: yt01-get-connections-from
          env:
            - name: RANDOMIZE
              value: true
          secrets:
            - token-generator-creds

  - test_file: K6/api/tests/auth/connections/getAccessPackagesTo.js
    contexts:
      - environment: yt01
        node_type: default
        test_run:
          name: get-access-packages-to
          id: yt01-get-access-packages-to
          env:
            - name: RANDOMIZE
              value: true
          secrets:
            - token-generator-creds
  - test_file: K6/api/tests/auth/connections/getAccessPackagesFrom.js
    contexts:
      - environment: yt01
        node_type: default
        test_run:
          name: get-access-packages-from
          id: yt01-get-access-packages-from
          env:
            - name: RANDOMIZE
              value: true
          secrets:
            - token-generator-creds

  - test_file: K6/api/tests/auth/pdpAuthorize/pdpAuthorizeDagl.js
    contexts:
      - environment: yt01
        node_type: default
        test_run:
          name: pdp-authorize-dagl
          id: yt01-pdp-authorize-dagl
          env:
            - name: RANDOMIZE
              value: true
          secrets:
            - token-generator-creds
            - authorization-subscription-key-yt01

  - test_file: K6/api/tests/auth/pdpAuthorize/pdpAuthorizeDaglDirectDelegation.js
    contexts:
      - environment: yt01
        node_type: default
        test_run:
          name: pdp-authorize-dagl-dd
          id: yt01-pdp-authorize-dagl-dd
          env:
            - name: RANDOMIZE
              value: true
          secrets:
            - token-generator-creds
            - authorization-subscription-key-yt01
      - environment: tt02
        node_type: default
        test_run:
          name: pdp-authorize-dagl-dd
          id: tt02-pdp-authorize-dagl-dd
          env:
            - name: RANDOMIZE
              value: true
          secrets:
            - token-generator-creds
            - authorization-subscription-key-tt02

  - test_file: K6/api/tests/auth/pdpAuthorize/pdpAuthorizeDaglDeny.js
    contexts:
      - environment: yt01
        node_type: default
        test_run:
          name: pdp-authorize-dagl-deny
          id: yt01-pdp-authorize-dagl-deny
          env:
            - name: RANDOMIZE
              value: true
          secrets:
            - token-generator-creds
            - authorization-subscription-key-yt01
