namespace: authentication
test_definitions:
  - test_file: K6/api/tests/auth/system-register/system-register-crud.js
    contexts:
      - environment: at22
        test_type:
          type: functional
          enabled: false
        test_run:
          secrets:
            - br-test.2025-07-03 # Needs renewal

  - test_file: K6/api/tests/auth/system-register/system-register-rights.js
    contexts:
      - environment: at22
        test_type:
          type: functional
          enabled: false
        test_run:
          secrets:
            - br-test.2025-07-03 # Needs renewal

  - test_file: K6/api/tests/auth/system-register/system-register-access-packages.js
    contexts:
      - environment: at22
        test_type:
          type: functional
          enabled: false
        test_run:
          secrets:
            - br-test.2025-07-03 # Needs renewal

  - test_file: K6/api/tests/auth/system-user-request/create-and-confirm-system-user-request.js
    contexts:
      - environment: at22
        test_type:
          type: functional
          enabled: false # Needs cleanup as the UI does not do pagination
        test_run:
          secrets:
            - token-generator-creds

  - test_file: K6/api/tests/auth/register/add-rm-revisor-role-for-client.js
    contexts:
      - environment: at22
        test_run:
          secrets:
            - soap-er-creds
            - token-generator-creds
            - authorization-subscription-key-at22
            - register-subscription-key-at22

  - test_file: K6/browser/system-user/client-delegation.js
    env_file: K6/browser/common.env
    contexts:
      - environment: tt02
        test_type:
          type: browser
          enabled: false # not maintained
        test_run:
          secrets:
            - token-generator-creds
      - environment: at24
        test_type:
          type: browser
          enabled: false # not maintained
        test_run:
          secrets:
            - token-generator-creds

  - test_file: K6/api/tests/auth/consent/post-consent.js
    contexts:
      - environment: yt01
        test_run:
          secrets:
            - token-generator-creds

  - test_file: K6/api/tests/auth/authorized-parties/get-authorized-parties-for-org.js
    contexts:
      - environment: yt01
        test_run:
          secrets:
            - token-generator-creds

  - test_file: K6/api/tests/auth/authorized-parties/get-authorized-parties-for-system-user.js
    contexts:
      - environment: yt01
        test_run:
          secrets:
            - token-generator-creds

  - test_file: K6/api/tests/auth/authorized-parties/get-authorized-parties-for-user.js
    contexts:
      - environment: yt01
        test_run:
          secrets:
            - token-generator-creds

  - test_file: K6/api/tests/auth/authorized-parties/get-authorized-parties-for-user-avgiver-liste.js
    contexts:
      - environment: yt01
        test_run:
          secrets:
            - token-generator-creds
      - environment: at22
        test_run:
          secrets:
            - token-generator-creds
      - environment: tt02
        test_run:
          secrets:
            - token-generator-creds

  - test_file: K6/api/tests/auth/authorized-parties/get-authorized-parties-for-user-dialogporten.js
    contexts:
      - environment: yt01
        test_run:
          id: yt01-get-auth-parties-user-dp
          secrets:
            - token-generator-creds
      - environment: at22
        test_run:
          secrets:
            - token-generator-creds
      - environment: tt02
        test_run:
          secrets:
            - token-generator-creds
  - test_file: K6/api/tests/auth/authorized-parties/get-authorized-parties-for-user-dialogporten-with-filter.js
    contexts:
      - environment: yt01
        test_run:
          secrets:
            - token-generator-creds
      - environment: at22
        test_run:
          secrets:
            - token-generator-creds
      - environment: tt02
        test_run:
          secrets:
            - token-generator-creds

  - test_file: K6/api/tests/auth/pdp-authorize/pdp-authorize-enduser.js
    contexts:
      - environment: yt01
        test_run:
          secrets:
            - token-generator-creds
            - authorization-subscription-key-yt01

  - test_file: K6/api/tests/auth/connections/get-connections-to.js
    env_file: K6/api/tests/auth/connections/common.env
    contexts:
      - environment: yt01
        test_run:
          secrets:
            - token-generator-creds

  - test_file: K6/api/tests/auth/connections/get-connections-from.js
    env_file: K6/api/tests/auth/connections/common.env
    contexts:
      - environment: yt01
        test_run:
          secrets:
            - token-generator-creds

  - test_file: K6/api/tests/auth/connections/get-access-packages-to.js
    env_file: K6/api/tests/auth/connections/common.env
    contexts:
      - environment: yt01
        test_run:
          secrets:
            - token-generator-creds

  - test_file: K6/api/tests/auth/connections/get-access-packages-from.js
    env_file: K6/api/tests/auth/connections/common.env
    contexts:
      - environment: yt01
        test_run:
          secrets:
            - token-generator-creds

  - test_file: K6/api/tests/auth/pdp-authorize/pdp-authorize-dagl.js
    env_file: K6/api/tests/auth/pdp-authorize/common.env
    contexts:
      - environment: yt01
        test_run:
          secrets:
            - token-generator-creds
            - authorization-subscription-key-yt01

  - test_file: K6/api/tests/auth/pdp-authorize/pdp-authorize-dagl-direct-delegation.js
    env_file: K6/api/tests/auth/pdp-authorize/common.env
    contexts:
      - environment: yt01
        test_run:
          secrets:
            - token-generator-creds
            - authorization-subscription-key-yt01
      - environment: tt02
        test_run:
          secrets:
            - token-generator-creds
            - authorization-subscription-key-tt02
      - environment: at22
        test_run:
          secrets:
            - token-generator-creds
            - authorization-subscription-key-at22

  - test_file: K6/api/tests/auth/pdp-authorize/pdp-authorize-dagl-deny.js
    env_file: K6/api/tests/auth/pdp-authorize/common.env
    contexts:
      - environment: yt01
        test_run:
          secrets:
            - token-generator-creds
            - authorization-subscription-key-yt01

  - test_file: K6/api/tests/auth/roles/get-roles.js
    contexts:
      - environment: yt01
